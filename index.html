<!doctypehtml><html><head><meta charset=utf-8><meta content="text/html; charset=utf-8"http-equiv=Content-Type><style>body{background-color:#000;color:#fff;box-sizing:border-box;margin:0;padding:2em;width:100%}#screen{position:relative}#canvas{border:1px dotted #0f0;display:block;margin:auto}#loadroms{position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%}#stdout{height:16em;overflow:auto;border:1px dotted #fff}</style></head><body><div id=screen><canvas id=canvas oncontextmenu=event.preventDefault()></canvas><div id=loadroms><div><p>Load from file:</p><input id=fileloader onchange=open_file(event) type=file></div></div></div><pre id=stdout></pre><br><a href=https://github.com/r-downing/nes-c><img src=https://github.githubassets.com/favicons/favicon-dark.png></a><img src=https://github.com/r-downing/nes-c/actions/workflows/tests.yml/badge.svg><script>const stdout=document.querySelector("#stdout");stdout.textContent+="STDOUT:\n";var Module={canvas:document.getElementById("canvas"),print:e=>{stdout.textContent+=e+"\n"}};chip8_load_rom=e=>{const t=new Uint8Array(e),o=t.length*t.BYTES_PER_ELEMENT,n=Module._malloc(o),l=new Uint8Array(Module.HEAPU8.buffer,n,o);l.set(t),console.log("num_bytes"),console.log(o);Module.ccall("jscallback","number",["number","number"],[l.byteOffset,t.length])&&(document.querySelector("#loadroms").style.display="none"),Module._free(n)};const open_file=function(e){const t=new FileReader;t.onload=e=>{chip8_load_rom(e.target.result)},t.readAsArrayBuffer(e.target.files[0])}</script><script async src=sdl_pixel_graphics.js></script></body></html>